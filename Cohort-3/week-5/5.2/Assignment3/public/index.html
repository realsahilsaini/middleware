<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <title>Fetch API</title>
</head>
<body style="background-color: #3f3f3f;">

  <h1 style="
    background-color: beige; 
    padding: 1rem; 
    text-align: center;
    border-radius: 30px;
    width: 500px;
    justify-content: center;
    margin: 0 auto;
    margin-bottom: 50px;">Write an HTML file, that hits the backend server using fetch API</h1>



   <!-- Input fields to enter the numbers -->
   <input type="number" id="num1" placeholder="Enter First Number" required />
   <input type="number" id="num2" placeholder="Enter Second Number" required />

   <button onclick="calculateSum()">Submit</button>

   <h2 style="color: aliceblue; text-align: center; margin-top: 20px;" id="answer"></h2>
  

  <script>
    const answer = document.getElementById('answer');

    async function calculateSum(){
      const num1 = document.getElementById('num1').value;
      const num2 = document.getElementById('num2').value;

      if(!num1 || !num2){
        alert('Please enter both numbers');
        return;
      }

      // We can use fetch API or AXIOS to hit the backend server

      // Using Fetch API
      // const response = await fetch('http://localhost:3000/sum', {
      //   method: 'POST',
      //   headers: {
      //     'Content-Type': 'application/json'
      //   },
      //   body: JSON.stringify({
      //     num1:num1, 
      //     num2: num2
      //   })
      // });
      // const data = await response.json();
      // const answer = document.getElementById('answer');
      

      // Using AXIOS
      
      axios.post('http://localhost:3000/sum',{
        num1:num1,
        num2:num2
      }).then((response)=>{
        answer.innerHTML = `The sum of ${num1} and ${num2} is ${response.data.result}`;
        // console.log(response.data.result);
      }).catch((err)=>{
        console.log(err);
      });

      
    }
  </script>

</body>
</html>